{"filter":false,"title":"tsl1128.js","tooltip":"/js/lib/tsl1128.js","undoManager":{"mark":78,"position":78,"stack":[[{"start":{"row":0,"column":0},"end":{"row":0,"column":1},"action":"insert","lines":["v"],"id":1}],[{"start":{"row":0,"column":1},"end":{"row":0,"column":2},"action":"insert","lines":["a"],"id":2}],[{"start":{"row":0,"column":2},"end":{"row":0,"column":3},"action":"insert","lines":["r"],"id":3}],[{"start":{"row":0,"column":3},"end":{"row":0,"column":4},"action":"insert","lines":[" "],"id":4}],[{"start":{"row":0,"column":4},"end":{"row":0,"column":5},"action":"insert","lines":["t"],"id":5}],[{"start":{"row":0,"column":5},"end":{"row":0,"column":6},"action":"insert","lines":["s"],"id":6}],[{"start":{"row":0,"column":6},"end":{"row":0,"column":7},"action":"insert","lines":["l"],"id":7}],[{"start":{"row":0,"column":7},"end":{"row":0,"column":8},"action":"insert","lines":["1"],"id":8}],[{"start":{"row":0,"column":8},"end":{"row":0,"column":9},"action":"insert","lines":["1"],"id":9}],[{"start":{"row":0,"column":9},"end":{"row":0,"column":10},"action":"insert","lines":["2"],"id":10}],[{"start":{"row":0,"column":10},"end":{"row":0,"column":11},"action":"insert","lines":["8"],"id":11}],[{"start":{"row":0,"column":11},"end":{"row":0,"column":12},"action":"insert","lines":[" "],"id":12}],[{"start":{"row":0,"column":12},"end":{"row":0,"column":13},"action":"insert","lines":["="],"id":13}],[{"start":{"row":0,"column":13},"end":{"row":0,"column":14},"action":"insert","lines":[" "],"id":14}],[{"start":{"row":0,"column":14},"end":{"row":0,"column":15},"action":"insert","lines":["{"],"id":15}],[{"start":{"row":0,"column":15},"end":{"row":2,"column":1},"action":"insert","lines":["","    ","}"],"id":16}],[{"start":{"row":2,"column":1},"end":{"row":2,"column":2},"action":"insert","lines":[";"],"id":17}],[{"start":{"row":1,"column":3},"end":{"row":1,"column":4},"action":"insert","lines":["i"],"id":18}],[{"start":{"row":1,"column":4},"end":{"row":1,"column":5},"action":"insert","lines":["n"],"id":19}],[{"start":{"row":1,"column":5},"end":{"row":1,"column":6},"action":"insert","lines":["i"],"id":20}],[{"start":{"row":1,"column":6},"end":{"row":1,"column":7},"action":"insert","lines":["t"],"id":21}],[{"start":{"row":1,"column":7},"end":{"row":1,"column":8},"action":"insert","lines":[":"],"id":22}],[{"start":{"row":1,"column":8},"end":{"row":1,"column":9},"action":"insert","lines":[" "],"id":23}],[{"start":{"row":1,"column":9},"end":{"row":1,"column":10},"action":"insert","lines":["f"],"id":24}],[{"start":{"row":1,"column":10},"end":{"row":1,"column":11},"action":"insert","lines":["u"],"id":25}],[{"start":{"row":1,"column":11},"end":{"row":1,"column":12},"action":"insert","lines":["n"],"id":26}],[{"start":{"row":1,"column":12},"end":{"row":1,"column":13},"action":"insert","lines":["c"],"id":27}],[{"start":{"row":1,"column":13},"end":{"row":1,"column":14},"action":"insert","lines":["t"],"id":28}],[{"start":{"row":1,"column":14},"end":{"row":1,"column":15},"action":"insert","lines":["i"],"id":29}],[{"start":{"row":1,"column":15},"end":{"row":1,"column":16},"action":"insert","lines":["n"],"id":30}],[{"start":{"row":1,"column":16},"end":{"row":1,"column":17},"action":"insert","lines":["o"],"id":31}],[{"start":{"row":1,"column":17},"end":{"row":1,"column":19},"action":"insert","lines":["()"],"id":32}],[{"start":{"row":1,"column":18},"end":{"row":1,"column":19},"action":"remove","lines":[")"],"id":33}],[{"start":{"row":1,"column":17},"end":{"row":1,"column":18},"action":"remove","lines":["("],"id":34}],[{"start":{"row":1,"column":16},"end":{"row":1,"column":17},"action":"remove","lines":["o"],"id":35}],[{"start":{"row":1,"column":15},"end":{"row":1,"column":16},"action":"remove","lines":["n"],"id":36}],[{"start":{"row":1,"column":15},"end":{"row":1,"column":16},"action":"insert","lines":["o"],"id":37}],[{"start":{"row":1,"column":16},"end":{"row":1,"column":17},"action":"insert","lines":["n"],"id":38}],[{"start":{"row":1,"column":17},"end":{"row":1,"column":19},"action":"insert","lines":["()"],"id":39}],[{"start":{"row":1,"column":19},"end":{"row":1,"column":20},"action":"insert","lines":["{"],"id":40}],[{"start":{"row":1,"column":20},"end":{"row":1,"column":21},"action":"insert","lines":["}"],"id":41}],[{"start":{"row":1,"column":20},"end":{"row":3,"column":3},"action":"insert","lines":["","       ","   "],"id":42}],[{"start":{"row":2,"column":0},"end":{"row":43,"column":3},"action":"insert","lines":["\t\tif(cordovaApp) {","\t\t\tbluetoothSerial.list(function(devices) {","\t\t\t    devices.forEach(function(device) {","   \t\t \t    \tbluetoothSerial.connect(device.id, function(){","\t\t\t\t\t\talert('Bluetooth connected successfully.');","\t\t\t\t\t\tbluetoothSerial.subscribe('\\r\\n', function(data) {","\t\t\t\t\t\t\tif(data.indexOf('EP') != -1) {","\t\t\t\t\t\t\t\tinterface.loading('#find .ajaxDisplay');","\t\t\t\t\t\t\t\tvar x = $.trim(data.split(':').pop());","\t\t\t\t\t\t\t\tvar a = x.match(/.{1,2}/g);","\t\t\t\t\t\t\t\tvar t = '';","\t\t\t\t\t\t\t\t$.each(a, function(k, v){","\t\t\t\t\t\t\t\t\tt += $.trim(String.fromCharCode(hex2dec(v)));","\t\t\t\t\t\t\t\t});","\t\t\t\t\t\t\t\tif(typeof tag.scanned[t] == 'undefined') {","\t\t\t\t\t\t\t\t\ttag.scanned[t] = t;","\t\t\t\t\t\t\t\t\ttag.find(t);","\t\t\t\t\t\t\t\t}","\t\t\t\t\t\t\t} else if(data.indexOf('BC') != -1) {\t\t\t\t\t\t\t\t","\t\t\t\t\t\t\t\tif($('#myModal').is(':hidden')) {","\t\t\t\t\t\t\t\t\tinterface.loading('#find .ajaxDisplay');","\t\t\t\t\t\t\t\t\tvar x = $.trim(data.split(':').pop());","\t\t\t\t\t\t\t\t\tif(typeof tag.scanned[x] == 'undefined') {","\t\t\t\t\t\t\t\t\t\ttag.scanned[x] = x;","\t\t\t\t\t\t\t\t\t\tbarcode.find(x);","\t\t\t\t\t\t\t\t\t}","\t\t\t\t\t\t\t\t} else {","\t\t\t\t\t\t\t\t\t// If myModal is visible, we're doing a global update.","\t\t\t\t\t\t\t\t\t$('#globalLocation').val(x);","\t\t\t\t\t\t\t\t}","\t\t\t\t\t\t\t}","\t\t\t\t\t\t}, function(){});\t\t\t\t","\t\t\t\t\t}, function(){","\t\t\t\t\t\talert('Failed to connect to Bluetooth device.');","\t\t\t\t\t});","\t\t\t    });","\t\t\t}, function(){","\t\t\t\talert('No bluetooth devices found.');","\t\t\t});","\t\t} else {","\t\t\ttag.find('fafc7ced521e');","\t\t}"],"id":43}],[{"start":{"row":0,"column":15},"end":{"row":1,"column":0},"action":"insert","lines":["",""],"id":44},{"start":{"row":1,"column":0},"end":{"row":1,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":1,"column":0},"end":{"row":1,"column":4},"action":"remove","lines":["    "],"id":45}],[{"start":{"row":1,"column":0},"end":{"row":56,"column":3},"action":"insert","lines":["\tscanned: {},","\tdata: function(info){","\t\tvar html = '';","\t\t$.each(info.data, function(key, value){","\t\t\tif(key !== 'status' && key !== 'location') {","\t\t\t\tif(key == 'image') {","\t\t\t\t\tif(value) {","\t\t\t\t\t\thtml += '<b>Image</b><img src=\"'+value+'\" class=\"img-thumbnail img-responsive\" />';","\t\t\t\t\t}","\t\t\t\t} else {","\t\t\t\t\thtml += '<b>'+key.replace(/_/g, ' ') +': </b>'+value+'<br />';","\t\t\t\t}","\t\t\t}","\t\t});","\t\treturn html;","\t},","\t","\tfind: function(t){","\t\tif(t.length == 6 || t.length == 12) {","\t\t\tvar found = false;","\t\t\tif(api.checkConnection()) {","\t\t\t\tapi.call('action=proFindTag&tag='+t, function(response){","\t\t\t\t\t$('#find .ajaxDisplay').append(tag.form(response.output));","\t\t\t\t});","\t\t\t} else {","\t\t\t\tvar db = new simpleDB('request');","\t\t\t\tvar requests = db.get();","\t\t\t\tif(requests) {","\t\t\t\t\t$.each(requests, function(key, request){","\t\t\t\t\t\tif(typeof request.output.tags != 'undefined') {","\t\t\t\t\t\t\t$.each(request.output.tags, function(k, v){","\t\t\t\t\t\t\t\tif(t == v) {","\t\t\t\t\t\t\t\t\t$('#find .ajaxDisplay').append(tag.form({","\t\t\t\t\t\t\t\t\t\tdata:request.output.data[k],","\t\t\t\t\t\t\t\t\t\ttag:t","\t\t\t\t\t\t\t\t\t}));","\t\t\t\t\t\t\t\t\tfound = true;","\t\t\t\t\t\t\t\t}","\t\t\t\t\t\t\t});","\t\t\t\t\t\t}","\t\t\t\t\t});\t\t\t\t","\t\t\t\t} else {","\t\t\t\t\talert('You are offline and no projects were found.');","\t\t\t\t}","\t\t\t\tif(found === false) {","\t\t\t\t\t$('#find .ajaxDisplay').append(tag.form({","\t\t\t\t\t\tdata:{},","\t\t\t\t\t\ttag:t","\t\t\t\t\t}));\t\t\t\t","\t\t\t\t}","\t\t\t}","\t\t\t$('body').trigger('findTag');\t\t","\t\t} else {","\t\t\talert('The tag is not valid.');","\t\t}\t\t","\t},"],"id":46}],[{"start":{"row":56,"column":3},"end":{"row":57,"column":0},"action":"insert","lines":["",""],"id":47},{"start":{"row":57,"column":0},"end":{"row":57,"column":1},"action":"insert","lines":["\t"]}],[{"start":{"row":58,"column":3},"end":{"row":58,"column":4},"action":"insert","lines":[" "],"id":48}],[{"start":{"row":101,"column":3},"end":{"row":101,"column":4},"action":"insert","lines":[" "],"id":49}],[{"start":{"row":58,"column":21},"end":{"row":59,"column":0},"action":"insert","lines":["",""],"id":50},{"start":{"row":59,"column":0},"end":{"row":59,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":59,"column":8},"end":{"row":59,"column":9},"action":"insert","lines":["c"],"id":51}],[{"start":{"row":59,"column":9},"end":{"row":59,"column":10},"action":"insert","lines":["o"],"id":52}],[{"start":{"row":59,"column":10},"end":{"row":59,"column":11},"action":"insert","lines":["n"],"id":53}],[{"start":{"row":59,"column":11},"end":{"row":59,"column":12},"action":"insert","lines":["s"],"id":54}],[{"start":{"row":59,"column":12},"end":{"row":59,"column":13},"action":"insert","lines":["o"],"id":55}],[{"start":{"row":59,"column":13},"end":{"row":59,"column":14},"action":"insert","lines":["l"],"id":56}],[{"start":{"row":59,"column":14},"end":{"row":59,"column":15},"action":"insert","lines":["e"],"id":57}],[{"start":{"row":59,"column":15},"end":{"row":59,"column":16},"action":"insert","lines":["."],"id":58}],[{"start":{"row":59,"column":16},"end":{"row":59,"column":17},"action":"insert","lines":["l"],"id":59}],[{"start":{"row":59,"column":17},"end":{"row":59,"column":18},"action":"insert","lines":["o"],"id":60}],[{"start":{"row":59,"column":18},"end":{"row":59,"column":19},"action":"insert","lines":["g"],"id":61}],[{"start":{"row":59,"column":19},"end":{"row":59,"column":21},"action":"insert","lines":["()"],"id":62}],[{"start":{"row":59,"column":21},"end":{"row":59,"column":22},"action":"insert","lines":[";"],"id":63}],[{"start":{"row":59,"column":20},"end":{"row":59,"column":22},"action":"insert","lines":["''"],"id":64}],[{"start":{"row":59,"column":21},"end":{"row":59,"column":22},"action":"insert","lines":["T"],"id":65}],[{"start":{"row":59,"column":22},"end":{"row":59,"column":23},"action":"insert","lines":["S"],"id":66}],[{"start":{"row":59,"column":23},"end":{"row":59,"column":24},"action":"insert","lines":["L"],"id":67}],[{"start":{"row":59,"column":24},"end":{"row":59,"column":25},"action":"insert","lines":["!"],"id":68}],[{"start":{"row":59,"column":25},"end":{"row":59,"column":26},"action":"insert","lines":["!"],"id":69}],[{"start":{"row":59,"column":26},"end":{"row":59,"column":27},"action":"insert","lines":["!"],"id":70}],[{"start":{"row":59,"column":0},"end":{"row":59,"column":30},"action":"remove","lines":["        console.log('TSL!!!');"],"id":71}],[{"start":{"row":58,"column":21},"end":{"row":59,"column":0},"action":"remove","lines":["",""],"id":72}],[{"start":{"row":73,"column":18},"end":{"row":73,"column":21},"action":"remove","lines":["tag"],"id":73},{"start":{"row":73,"column":18},"end":{"row":73,"column":29},"action":"insert","lines":["user.device"]}],[{"start":{"row":74,"column":9},"end":{"row":74,"column":12},"action":"remove","lines":["tag"],"id":74},{"start":{"row":74,"column":9},"end":{"row":74,"column":20},"action":"insert","lines":["user.device"]}],[{"start":{"row":75,"column":9},"end":{"row":75,"column":12},"action":"remove","lines":["tag"],"id":75},{"start":{"row":75,"column":9},"end":{"row":75,"column":20},"action":"insert","lines":["user.device"]}],[{"start":{"row":81,"column":19},"end":{"row":81,"column":22},"action":"remove","lines":["tag"],"id":76},{"start":{"row":81,"column":19},"end":{"row":81,"column":30},"action":"insert","lines":["user.device"]}],[{"start":{"row":82,"column":10},"end":{"row":82,"column":13},"action":"remove","lines":["tag"],"id":77},{"start":{"row":82,"column":10},"end":{"row":82,"column":21},"action":"insert","lines":["user.device"]}],[{"start":{"row":99,"column":3},"end":{"row":99,"column":6},"action":"remove","lines":["tag"],"id":78},{"start":{"row":99,"column":3},"end":{"row":99,"column":14},"action":"insert","lines":["user.device"]}],[{"start":{"row":23,"column":36},"end":{"row":23,"column":39},"action":"remove","lines":["tag"],"id":79},{"start":{"row":23,"column":36},"end":{"row":23,"column":47},"action":"insert","lines":["user.device"]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":38,"column":9},"end":{"row":38,"column":9},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1466646367916,"hash":"49b1da923238df681b3d5dab6f91a1b4b397f4af"}